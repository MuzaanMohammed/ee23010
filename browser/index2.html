<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Audio Player</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>
    <h1>Audio Player</h1>
    
    <div class="controls">
        <button id="playPauseButton">Play</button>
        <button id="randomButton">Random</button>
    </div>
    
    <audio id="audioPlayer" controls>
        Your browser does not support the audio element.
    </audio>

    <script>
        const audioPlayer = document.getElementById('audioPlayer');
        const randomButton = document.getElementById('randomButton');
        const playPauseButton = document.getElementById('playPauseButton');


        playPauseButton.addEventListener('click', () => {
            if (audioPlayer.paused) {
                audioPlayer.play();
                playPauseButton.textContent = "Pause";
            } else {
                audioPlayer.pause();
                playPauseButton.textContent = "Play";
            }
        });

        randomButton.addEventListener('click', () => {
            fetch('http://127.0.0.1:5000/play')
                .then(response => response.blob())
                .then(blob => {
                    const blobUrl = URL.createObjectURL(blob);
                    audioPlayer.src = blobUrl;
                    audioPlayer.load();
                    audioPlayer.play();
                })
                .catch(error => console.error('Error fetching random audio:', error));
        });
    </script>
</body>
</html>
